---
title: "チュートリアル 31 | シーン管理"
free: true
---

# 31. シーン管理
シーン管理（または **シーン遷移**）を使うと、複雑なアプリケーション（とくにゲーム）を効率よく開発できます。シーン管理では、ゲームのタイトル、ゲームプレイ、リザルトなど、個々の場面（シーン）を個別のクラスに実装し、それらを行き来することで全体の流れを設計します。

![](/images/doc_v6/tutorial/31/0.png)

Siv3D のシーン管理機能 `SceneManager` を使うと、ある場面のクラスから別の場面のクラスにデータを引き継いだり、フェードイン・フェードアウトで滑らかに画面を切り替えたりする処理を簡単に記述できます。

:::message
シーン管理における「シーン」とは、個々のゲームの場面や、その実装クラスのことを指します。チュートリアル 15 で説明した、画面のことを表すシーンや `Scene::` 名前空間の機能とは別の意味なので注意しましょう。
:::

## 31.1 シーンの基本
まずは、個々のシーンを区別する値（ステート）の型を決めます。例えば `String` 型を選択すると、タイトルシーンは `U"Title"`, ゲームシーンは `U"Game"` と、シーンを `String` 型の値で区別することになります。以降のサンプルではクラス名とシーンの名前を一致させていますが、必ずしも従う必要はありません。

まず、ステートとして選択した型を使い `using App = SceneManager<String>;` のようにしてシーンマネージャークラスの型を決定し `App` と名付けます。次に、シーンを `App::Scene` を継承して実装します。通常はコンストラクタ、`update()`, `draw()` の 3 つのメンバ関数をオーバーライドします。

`Main()` 関数には `App` 型の変数を作り、用意したシーンクラスを `.add()` で登録します。あとはメインループの中で `App::update()` を毎フレーム呼び出せば、最初に登録したシーンが自動的に実行されます。シーンでは毎フレーム `update()` 関数が先に呼ばれ、その次に `draw()` 関数が呼ばれます。

```cpp

```


## 31.2

```cpp

```


## 31.3

```cpp

```


## 31.4

```cpp

```


## 31.5

```cpp

```


## 31.6

```cpp

```


## 31.7

```cpp

```

