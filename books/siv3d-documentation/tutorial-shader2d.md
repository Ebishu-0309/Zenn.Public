---
title: "チュートリアル 35 | 2D カスタムシェーダ"
free: true
---

# 35. 2D カスタムシェーダ
2D グラフィックスがレンダーターゲットに描かれるとき、どのような頂点座標変換を行い、どのような色を出力するかは、「**頂点シェーダ**」と「**ピクセルシェ―ダ**」と呼ばれる、GPU 上で実行される 2 つのプログラムを通して計算・決定されます。カスタムシェーダ機能を使うと、そのプログラムを変更し、GPU の計算性能をフル活用した高度な描画プログラムを実装することができます。

OpenSiv3D v0.6.0 が対応するシェーダプログラミング言語は次の 3 つです。ターゲットとするプラットフォームに応じた言語を使用します。
- HLSL シェーダーモデル 4.0
- GLSL 4.1
- GLSL ES 3.0

| ターゲット | HLSL | GLSL | GLSL ES |
|:--:|:--:|:--:|:--:|
| Windows | ✔ | ✔<br>(エンジンオプションを変更) | |
| macOS | | ✔ | |
| Linux | | ✔ | |
| Web | | | ✔ | 

Windows (Direct3D) では HLSL, macOS/Linux (OpenGL) では GLSL, Web では GLSL ES で記述します。なお、Windows は `SIV3D_SET(EngineOption::Renderer::OpenGL);` を `#include <Siv3D.hpp>` の直後に記述することで OpenGL モードになり、その場合は GLSL を使います。


## 35.1 デフォルトのシェーダ
カスタムのシェーダプログラムを書く前に、デフォルト使われている図形およびテクスチャ描画のシェーダプログラムを見てみましょう。これらを書き換えることで、容易にシェーダをカスタマイズできます。

### 図形を描くときに使われるデフォルトのシェーダ

#### HLSL

頂点シェーダ
```hlsl

```

ピクセルシェーダ

```hlsl

```

#### GLSL

頂点シェーダ
```glsl

```

ピクセルシェーダ

```glsl

```

### テクスチャを描くときに使われるデフォルトのシェーダ

#### HLSL

頂点シェーダ
```hlsl

```

ピクセルシェーダ

```hlsl

```

#### GLSL

頂点シェーダ
```glsl

```

ピクセルシェーダ

```glsl

```


## 35.2 カスタムシェーダを使用する

```cpp

```


## 35.3 (Windows) コンパイル済みシェーダを作成・使用する

```cpp

```


## 35.4 R 成分と B 成分の入れ替え

```cpp

```


## 35.5 RGB シフト

```cpp

```


## 35.6 グレイスケール化

```cpp

```


## 35.7 ポスタライズ

```cpp

```


## 35.8 Poisson-Disk Sampling

```cpp

```


## 35.9 渦巻き効果

```cpp

```


## 35.10 マルチテクスチャ

```cpp

```


## 35.11 テクスチャによるマスク

```cpp

```


## 35.12 GPU 上でのライフゲームシミュレーション

```cpp

```


## 35.13 GPU 上でのライフゲームシミュレーション (Camera2D 使用)

```cpp

```


## 35.14 ゲーム画面に後処理としてシェーダを適用する

```cpp

```

